CC=@CC@
RM=@RM@
IRCDLIBS=@LIBS@
INCLUDEDIR=-I../include

mkpasswd_SOURCES = mkpasswd.c
mkpasswd_OBJECTS = mkpasswd.o
convert_conf_SOURCES = convert_conf.c
convert_conf_OBJECTS = convert_conf.o ../src/match.o

all_OBJECTS = $(mkpasswd_OBJECTS) $(convert_conf_OBJECTS)

all: mkpasswd convert_conf

build: all

mkpasswd: $(mkpasswd_OBJECTS)
	$(CC) -o mkpasswd $(mkpasswd_OBJECTS) $(IRCDLIBS)

convert_conf: $(convert_conf_OBJECTS)
    $(CC) -o convert_conf $(convert_conf_OBJECTS) $(IRCDLIBS)

clean:
	$(RM) -f $(all_OBJECTS) mkpasswd convert_conf *~ core

distclean: clean
	$(RM) -f Makefile

.c.o:
	$(CC) $(CFLAGS) $(INCLUDEDIR) -c $<

install: build
	@echo "Please do a make install from the top level directory"

